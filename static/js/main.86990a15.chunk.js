(this["webpackJsonpdiet-app"]=this["webpackJsonpdiet-app"]||[]).push([[0],{40:function(e,t,c){},41:function(e,t,c){},46:function(e,t,c){},47:function(e,t,c){},51:function(e,t,c){},52:function(e,t,c){},53:function(e,t,c){},54:function(e,t,c){},55:function(e,t,c){"use strict";c.r(t);var a=c(2),n=c(3),s=c.n(n),i=c(31),r=c.n(i),l=(c(39),c(7)),j=c(6),o=c(23),d=(c(40),c(33)),b=c(10),x=Object(n.createContext)(),O=function(){return Object(n.useContext)(x)};var h=function(e){var t=e.children,c=Object(n.useState)([]),s=Object(b.a)(c,2),i=s[0],r=s[1],l=Object(n.useState)(0),j=Object(b.a)(l,2),o=j[0],O=j[1],h=Object(n.useState)(0),u=Object(b.a)(h,2),m=u[0],p=u[1];return Object(a.jsx)(x.Provider,{value:{cart:i,totalQty:o,totalPrice:m,addToCart:function(e,t){var c=i.findIndex((function(t){return t.item.id===e.item.id}));if(O(o+t),-1!==c){var a=Array.from(i);i[c].cantidad+=e.cantidad,r(a)}else r([].concat(Object(d.a)(i),[e])),p(m+e.item.price*e.cantidad)},removeItem:function(e,t,c){var a=i.filter((function(t){return t.item.id!==e}));r(a),p(m-t),O(o-c)},clearCart:function(){r([]),O(0),p(0)}},children:t})},u=function(){var e=O().totalQty;return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:"d-flex",children:[Object(a.jsx)(o.a,{className:"iconCart"}),Object(a.jsx)("span",{className:"badge rounded-pill bg-light text-dark",children:e})]})})},m=(c(41),function(){return Object(a.jsxs)("nav",{class:"navbar navbar-expand-md bg-light navbar-light",children:[Object(a.jsx)(l.b,{to:"/",exact:!0,children:Object(a.jsx)("a",{class:"navbar-brand",href:"#",children:"Grusli"})}),Object(a.jsx)("button",{class:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#collapsibleNavbar",children:Object(a.jsx)("span",{class:"navbar-toggler-icon"})}),Object(a.jsx)("div",{class:"collapse navbar-collapse",id:"collapsibleNavbar",children:Object(a.jsxs)("ul",{class:"navbar-nav",children:[Object(a.jsx)("li",{class:"nav-item",children:Object(a.jsx)("a",{class:"nav-link",href:"#",children:"Sobre Nosotros"})}),Object(a.jsxs)("li",{class:"nav-item dropdown",children:[Object(a.jsx)("a",{class:"nav-link dropdown-toggle",href:"#",id:"navbardrop","data-toggle":"dropdown",children:"Productos"}),Object(a.jsxs)("div",{class:"dropdown-menu",children:[Object(a.jsx)(l.b,{to:"/Store",children:Object(a.jsx)("a",{class:"dropdown-item",href:"#",children:"Todos"})}),Object(a.jsx)(l.b,{to:"/Category/1",children:Object(a.jsx)("a",{class:"dropdown-item",href:"#",children:"Almacen"})}),Object(a.jsx)(l.b,{to:"/Category/2",children:Object(a.jsx)("a",{class:"dropdown-item",href:"#",children:"Bebidas"})})]})]})]})}),Object(a.jsx)(l.b,{to:"/Carrito",children:Object(a.jsx)(u,{})})]})}),p=(c(46),c(47),function(e){var t=e.id,c=e.title,n=e.price,s=e.img,i=e.details;return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{class:"col-6 col-sm-6 col-md-4 col-lg-4 col-xl-3 mb-4 mt-4 mr-5",children:[Object(a.jsx)(l.b,{to:"/DetalleProducto/".concat(t),children:Object(a.jsx)("img",{src:s,class:"card-img-top img-product",alt:"imagen"})}),Object(a.jsxs)("div",{class:"card-footer",children:[Object(a.jsx)("h5",{class:"card-title",children:c}),Object(a.jsx)("p",{class:"card-text",children:i}),Object(a.jsxs)("div",{className:"d-flex",children:[Object(a.jsxs)("p",{className:"item-price",children:["AR$",n]}),Object(a.jsx)(l.b,{to:"/DetalleProducto/".concat(t),children:Object(a.jsx)(o.a,{className:"icon-product"})})]})]})]})})}),f=function(e){var t=e.items;return Object(a.jsx)("div",{className:"row",children:t.length>0?t.map((function(e){return Object(a.jsx)(p,{category:e.data.idcategory,id:e.id,details:e.data.details,title:e.data.title,price:e.data.price,img:e.data.img},e.category)})):Object(a.jsx)("p",{children:"Cargando..."})})},g=c(20),v=(c(48),c(30),g.a.initializeApp({apiKey:"AIzaSyAiGCdO-ABXSr48JTM62b2u97OHeDmz-aI",authDomain:"grusliapp.firebaseapp.com",projectId:"grusliapp",storageBucket:"grusliapp.appspot.com",messagingSenderId:"737224983578",appId:"1:737224983578:web:43248c1b57b468a40e3da3",measurementId:"G-MZWP2RNWET"})),N=function(){return g.a.firestore(v)},C=function(){var e=Object(n.useState)([]),t=Object(b.a)(e,2),c=t[0],s=t[1],i=N(),r=Object(j.f)().id;return Object(n.useEffect)((function(){r?(console.log(r),i.collection("Items").get().then((function(e){var t=[];e.forEach((function(e){e.data().idcategory==r&&t.push({id:e.id,data:e.data()})})),s(t)})).catch((function(e){console.log(e)}))):i.collection("Items").get().then((function(e){var t=[];e.forEach((function(e){t.push({id:e.id,data:e.data()})})),s(t)})).catch((function(e){console.log(e)}))}),[]),Object(a.jsx)("div",{className:"container",children:Object(a.jsx)(f,{items:c})})},S=(c(51),c(24)),y=function(e){var t=e.stock,c=e.initial,n=e.onAdd,i=s.a.useState(c),r=Object(b.a)(i,2),l=r[0],j=r[1],o=s.a.useState(!1),d=Object(b.a)(o,2);d[0],d[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"d-flex count",children:[Object(a.jsx)(S.a,{onClick:function(){l>c&&j(l-1)}}),Object(a.jsx)("p",{children:l}),Object(a.jsx)(S.b,{onClick:function(){l<t&&j(l+1)}})]}),Object(a.jsxs)("button",{onClick:function(e){return n(e,l)},className:"btn btn-color",children:["Agregar al Carrito ",l]})]})},k=(c(52),function(e){var t=e.item,c=O().addToCart,n=s.a.useState(!0),i=Object(b.a)(n,2),r=i[0],j=i[1];return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:"col-6 col-sm-6 col-md-4 col-lg-4 col-xl-4 mb-4 mt-4 container",children:[Object(a.jsx)("img",{src:t.img,alt:"imagen"}),Object(a.jsx)("h2",{className:"item-title",children:t.title}),Object(a.jsx)("p",{className:"item-text",children:t.details}),Object(a.jsxs)("p",{className:"item-price",children:["AR$",t.price]}),r&&Object(a.jsx)(y,{stock:10,initial:1,onAdd:function(e,a){e.stopPropagation(),c({cantidad:a,item:t},a),j(!1)},children:" "}),!r&&Object(a.jsx)(l.b,{to:"/Carrito",children:Object(a.jsx)("button",{className:"btn btn-success",children:"Finalizar Compra"})})]})})}),A=function(){var e=Object(n.useState)(),t=Object(b.a)(e,2),c=t[0],s=t[1],i=Object(j.f)().id;return Object(n.useEffect)((function(){N().collection("Items").doc(i).get().then((function(e){e.exists&&s(e.data())})).catch((function(e){console.log(e)}))}),[]),Object(a.jsx)("div",{children:c?Object(a.jsx)(k,{item:c}):Object(a.jsx)("p",{children:"Cargando..."})})},w=(c(53),function(){var e=O(),t=e.cart,c=e.totalPrice,n=e.removeItem,s=e.clearCart;return Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"Carrito"}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("p",{className:"col-xl-2",children:"Producto"}),Object(a.jsx)("p",{className:"col-xl-2",children:"Cantidad"}),Object(a.jsx)("p",{className:"col-xl-2",children:"Precio por unidad"}),Object(a.jsx)("p",{className:"col-xl-2",children:"Precio por cantidad"})]}),t.length>0?Object(a.jsxs)("div",{children:[t.map((function(e,t){return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:"row mt-2 mb-2",children:[Object(a.jsx)("img",{src:e.item.img,className:"img-cart"}),Object(a.jsx)("p",{className:"col-xl-2",children:Object(a.jsx)("strong",{children:e.item.title})}),Object(a.jsx)("p",{className:"col-xl-2",children:e.cantidad}),Object(a.jsxs)("p",{className:"col-xl-2",children:["AR$",e.item.price]}),Object(a.jsxs)("p",{className:"col-xl-2",children:["AR$",e.item.price*e.cantidad]}),Object(a.jsx)("button",{onClick:function(){return n(e.item.id,e.item.price*e.cantidad,e.cantidad)},children:"X"})]},t)})})),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsxs)("div",{className:"col-xl-4",children:[Object(a.jsx)("p",{children:"Total Compra:"}),Object(a.jsxs)("p",{children:["$",c]})]}),Object(a.jsx)("div",{className:"col-xl-4",children:t.length>0&&Object(a.jsx)("button",{className:"btn btn-success",onClick:s,children:"Vaciar carrito"})}),Object(a.jsx)(l.b,{to:"/Store",children:Object(a.jsx)("button",{className:"btn btn-success",children:"Volver"})}),Object(a.jsx)("div",{children:Object(a.jsx)(l.b,{to:"/Checkout",children:Object(a.jsx)("button",{className:"btn btn-success",children:"Finalizar Compra"})})})]})]}):Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:"carritoVacioMensaje",children:[Object(a.jsx)("p",{children:"El carrito est\xe1 vac\xedo"}),Object(a.jsx)(l.b,{to:"/Store",children:Object(a.jsx)("button",{className:"btn btn-success",children:"Volver"})})]})})]})}),I=(c(54),function(){return Object(a.jsxs)("div",{className:"inicio container-fluid",children:[Object(a.jsx)("h2",{className:"index-text",children:"Conoce nuestra variedad de productos"}),Object(a.jsx)("button",{className:"btn btn-success",children:"A comprar!"})]})}),P=function(){return Object(a.jsx)("div",{children:Object(a.jsx)(C,{})})},F=function(){var e=O().totalPrice,t=Object(n.useState)(""),c=Object(b.a)(t,2),s=c[0],i=c[1],r=Object(n.useState)(""),l=Object(b.a)(r,2),j=l[0],o=l[1],d=Object(n.useState)(""),x=Object(b.a)(d,2),h=x[0],u=x[1],m=O(),p=m.cart,f=m.clearCart,v=Object(n.useState)(),C=Object(b.a)(v,2),S=C[0],y=C[1];return Object(a.jsx)(a.Fragment,{children:S?Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("section",{children:[Object(a.jsx)("h2",{children:"Compra realizada con exito!"}),Object(a.jsxs)("p",{children:["Tu numero de orden es: ",Object(a.jsx)("strong",{children:S})," "]})]})}):Object(a.jsx)("section",{children:Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"Checkout"}),Object(a.jsxs)("form",{onSubmit:function(t){t.preventDefault();var c={buyer:{name:s,phone:j,email:h},date:g.a.firestore.FieldValue.serverTimestamp(),items:p,total:e};N().collection("orders").add(c).then((function(e){var t=e.id;f(),y(t)})).catch((function(e){console.log(e)})).finally(console.log(c))},children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{children:"Nombre y Apellido:"}),Object(a.jsx)("input",{value:s,onChange:function(e){i(e.target.value)},type:"text",required:!0})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{children:"Telefono:"}),Object(a.jsx)("input",{value:j,onChange:function(e){o(e.target.value)},type:"text",required:!0})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{children:"Correo Electr\xf3nico:"}),Object(a.jsx)("input",{value:h,onChange:function(e){u(e.target.value)},type:"email",required:!0})]}),Object(a.jsx)("button",{type:"submit",children:"Comprar"})]})]})})})},T=function(){return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(h,{children:Object(a.jsxs)(l.a,{children:[Object(a.jsx)(m,{}),Object(a.jsxs)(j.c,{children:[Object(a.jsx)(j.a,{path:"/",exact:!0,children:Object(a.jsx)(I,{})}),Object(a.jsx)(j.a,{path:"/Store",children:Object(a.jsx)(C,{})}),Object(a.jsx)(j.a,{path:"/Category/:id",children:Object(a.jsx)(P,{})}),Object(a.jsx)(j.a,{path:"/DetalleProducto/:id",children:Object(a.jsx)(A,{})}),Object(a.jsx)(j.a,{path:"/Carrito",children:Object(a.jsx)(w,{})}),Object(a.jsx)(j.a,{path:"/Checkout",children:Object(a.jsx)(F,{})})]})]})})})};r.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(T,{})}),document.getElementById("root"))}},[[55,1,2]]]);
//# sourceMappingURL=main.86990a15.chunk.js.map